<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KROMA | Agence Web & Marketing Digital Abidjan</title>
    <meta name="description" content="Agence digitale experte à Abidjan. Création de sites web, Branding et Stratégie Digitale. Performance et Design Minimaliste en Côte d'Ivoire.">
    <meta property="og:title" content="KROMA | Agence Digitale Abidjan">
    <meta property="og:description" content="Transformez votre présence numérique avec Kroma. Basée à Abidjan.">
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #a3a3a3; }
        h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; }
        
        /* Background Grid */
        .bg-grid {
            background-size: 50px 50px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
        }

        /* Glass Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass-card:hover {
            border-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 20px 40px -15px rgba(0,0,0,0.5);
        }
        
        /* Gradient Text */
        .text-gradient-premium {
            background: linear-gradient(to right, #fff, #a5a5a5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Toast Notification */
        #toast {
            visibility: hidden; min-width: 250px; text-align: center; border-radius: 8px; padding: 16px; 
            position: fixed; z-index: 100; left: 50%; bottom: 30px; transform: translateX(-50%);
            border: 1px solid rgba(255,255,255,0.1); font-size: 14px; color: #fff;
            opacity: 0; transition: all 0.3s;
        }
        #toast.show { visibility: visible; opacity: 1; bottom: 50px; }
        #toast.success { background-color: rgba(16, 185, 129, 0.9); backdrop-filter: blur(10px); }
        #toast.error { background-color: rgba(239, 68, 68, 0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="antialiased relative overflow-x-hidden selection:bg-indigo-500/30 selection:text-white">

    <div id="toast">Message envoyé !</div>

    <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
        <div class="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"></div>
        <div class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[100px]"></div>
    </div>

    <nav class="fixed top-0 w-full z-50 border-b border-white/5 bg-[#050505]/80 backdrop-blur-md transition-all duration-300">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="#" class="flex items-center gap-3 group z-50">
                <div class="relative w-8 h-8 flex items-center justify-center overflow-hidden rounded bg-gradient-to-b from-neutral-800 to-black border border-white/10 group-hover:border-white/20 transition-colors">
                    <span class="text-white font-semibold tracking-tighter text-sm relative z-10">K</span>
                </div>
                <span class="text-white font-medium tracking-tight text-sm group-hover:text-neutral-200 transition-colors">KROMA</span>
            </a>
            
            <div class="hidden md:flex items-center gap-8 text-sm font-medium">
                <a href="#services" class="text-neutral-400 hover:text-white transition-colors">Services</a>
                <a href="#projects" class="text-neutral-400 hover:text-white transition-colors">Portfolio</a>
                <a href="#pricing" class="text-neutral-400 hover:text-white transition-colors">Tarifs</a>
                <a href="#contact" class="px-5 py-2 bg-white text-black text-xs font-semibold rounded-full overflow-hidden hover:bg-neutral-200 transition-all flex items-center gap-2">
                    <span class="relative z-10">Demander un devis</span>
                    <i data-lucide="arrow-right" class="w-3 h-3 text-neutral-600"></i>
                </a>
            </div>
            
            <button class="md:hidden text-white"><i data-lucide="menu" class="w-6 h-6"></i></button>
        </div>
    </nav>

    <header class="relative pt-36 pb-20 md:pt-48 md:pb-32 px-6 max-w-7xl mx-auto text-center">
        <div class="absolute inset-0 bg-grid -z-10"></div>
        
        <div data-aos="fade-down">
            <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full border border-white/5 bg-white/[0.02] backdrop-blur-sm text-xs font-medium text-indigo-300 mb-10 cursor-default">
                <span class="relative flex h-1.5 w-1.5">
                  <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
                  <span class="relative inline-flex rounded-full h-1.5 w-1.5 bg-indigo-500"></span>
                </span>
                <span class="text-neutral-300">Agence basée à Abidjan</span>
            </div>
        </div>

        <h1 class="text-5xl md:text-7xl font-medium text-white tracking-tighter leading-[1.1] mb-8" data-aos="fade-up">
            L'art de la performance<br>
            <span class="text-gradient-premium">numérique.</span>
        </h1>
        
        <p class="text-lg text-neutral-400 max-w-2xl mx-auto mb-12 font-light leading-relaxed tracking-wide" data-aos="fade-up" data-aos-delay="100">
            Agence créative spécialisée dans le design minimaliste et le développement sur-mesure en Côte d'Ivoire. Nous transformons les visiteurs en clients fidèles.
        </p>

        <div class="flex flex-col sm:flex-row items-center justify-center gap-4" data-aos="fade-up" data-aos-delay="200">
            <a href="#pricing" class="h-12 px-8 rounded-lg bg-white text-neutral-950 font-medium text-sm hover:bg-neutral-200 transition-all flex items-center justify-center w-full sm:w-auto shadow-[0_0_20px_-5px_rgba(255,255,255,0.3)]">
                Configurer mon offre
            </a>
            <a href="#projects" class="h-12 px-8 rounded-lg border border-white/10 bg-neutral-900/50 text-white font-medium text-sm hover:bg-neutral-800/80 hover:border-white/20 transition-all flex items-center justify-center gap-2 w-full sm:w-auto backdrop-blur-sm">
                Voir nos réalisations
            </a>
        </div>
    </header>

    <section id="projects" class="py-24 bg-neutral-900/30 border-y border-white/5">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6">
                <div>
                    <h2 class="text-3xl font-display font-medium text-white mb-2">Nos Réalisations</h2>
                    <p class="text-neutral-400">Des interfaces conçues pour la conversion.</p>
                </div>
                <a href="#contact" class="inline-flex items-center gap-2 text-white border border-white/10 px-4 py-2 rounded-full text-sm hover:bg-white hover:text-black transition-all">
                    Démarrer un projet similaire <i data-lucide="arrow-right" class="w-4 h-4"></i>
                </a>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="group cursor-pointer" data-aos="fade-up">
                    <div class="relative overflow-hidden rounded-xl border border-white/10 aspect-[4/3] mb-4 bg-neutral-800">
                        <img src="https://images.unsplash.com/photo-1441986300917-64674bd600d8?q=80&w=800&auto=format&fit=crop" alt="Projet E-commerce" class="object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-700">
                        <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                            <span class="bg-white text-black px-4 py-2 rounded-full text-sm font-medium">Maison Babi Store</span>
                        </div>
                    </div>
                    <div>
                        <span class="text-indigo-400 text-xs font-mono mb-1 block">Mode & Retail</span>
                        <h3 class="text-white font-medium text-lg">Maison Babi</h3>
                    </div>
                </div>

                <div class="group cursor-pointer" data-aos="fade-up" data-aos-delay="100">
                    <div class="relative overflow-hidden rounded-xl border border-white/10 aspect-[4/3] mb-4 bg-neutral-800">
                        <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?q=80&w=800&auto=format&fit=crop" alt="Projet Immobilier" class="object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-700">
                        <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                            <span class="bg-white text-black px-4 py-2 rounded-full text-sm font-medium">Résidence Ivoiria</span>
                        </div>
                    </div>
                    <div>
                        <span class="text-indigo-400 text-xs font-mono mb-1 block">Immobilier</span>
                        <h3 class="text-white font-medium text-lg">Résidence Ivoiria</h3>
                    </div>
                </div>

                <div class="group cursor-pointer" data-aos="fade-up" data-aos-delay="200">
                    <div class="relative overflow-hidden rounded-xl border border-white/10 aspect-[4/3] mb-4 bg-neutral-800">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=800&auto=format&fit=crop" alt="Projet Dashboard" class="object-cover w-full h-full transform group-hover:scale-105 transition-transform duration-700">
                        <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
                            <span class="bg-white text-black px-4 py-2 rounded-full text-sm font-medium">App Dashboard</span>
                        </div>
                    </div>
                    <div>
                        <span class="text-indigo-400 text-xs font-mono mb-1 block">Fintech / SaaS</span>
                        <h3 class="text-white font-medium text-lg">PaySafe CI</h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="pricing" class="py-24 relative">
        <div class="max-w-6xl mx-auto px-6 relative z-10">
            <div class="flex flex-col lg:flex-row gap-16">
                
                <div class="flex-1" data-aos="fade-right">
                    <h2 class="text-3xl font-medium text-white tracking-tighter mb-2">Configurez votre projet</h2>
                    <p class="text-neutral-400 mb-10">Sélectionnez les modules adaptés pour obtenir une estimation.</p>

                    <div class="space-y-4 mb-10">
                        <label class="cursor-pointer block group service-item">
                            <input type="checkbox" data-name="Site Vitrine Premium" data-price="150000" class="peer sr-only service-checkbox" checked>
                            <div class="p-5 rounded-xl border border-white/10 bg-[#0A0A0A] hover:border-white/20 transition-all peer-checked:border-indigo-500/50 peer-checked:bg-indigo-500/[0.02] flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div class="w-5 h-5 rounded border border-white/20 flex items-center justify-center text-transparent peer-checked:bg-indigo-500 peer-checked:text-white peer-checked:border-indigo-500 transition-all shadow-sm">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white text-sm font-medium">Site Vitrine Premium</h4>
                                        <p class="text-xs text-neutral-500 mt-0.5">5 pages, Design unique, SEO de base</p>
                                    </div>
                                </div>
                                <span class="text-white text-sm font-medium tabular-nums">150.000 FCFA</span>
                            </div>
                        </label>

                        <label class="cursor-pointer block group service-item">
                            <input type="checkbox" data-name="E-commerce Complet" data-price="350000" class="peer sr-only service-checkbox">
                            <div class="p-5 rounded-xl border border-white/10 bg-[#0A0A0A] hover:border-white/20 transition-all peer-checked:border-indigo-500/50 peer-checked:bg-indigo-500/[0.02] flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div class="w-5 h-5 rounded border border-white/20 flex items-center justify-center text-transparent peer-checked:bg-indigo-500 peer-checked:text-white peer-checked:border-indigo-500 transition-all shadow-sm">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white text-sm font-medium">E-commerce Complet</h4>
                                        <p class="text-xs text-neutral-500 mt-0.5">Boutique, Paiements (Wave/OM), Stocks</p>
                                    </div>
                                </div>
                                <span class="text-white text-sm font-medium tabular-nums">350.000 FCFA</span>
                            </div>
                        </label>

                        <label class="cursor-pointer block group service-item">
                            <input type="checkbox" data-name="Pack Branding" data-price="75000" class="peer sr-only service-checkbox">
                            <div class="p-5 rounded-xl border border-white/10 bg-[#0A0A0A] hover:border-white/20 transition-all peer-checked:border-indigo-500/50 peer-checked:bg-indigo-500/[0.02] flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div class="w-5 h-5 rounded border border-white/20 flex items-center justify-center text-transparent peer-checked:bg-indigo-500 peer-checked:text-white peer-checked:border-indigo-500 transition-all shadow-sm">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white text-sm font-medium">Pack Branding</h4>
                                        <p class="text-xs text-neutral-500 mt-0.5">Logo, Charte graphique, Social Kit</p>
                                    </div>
                                </div>
                                <span class="text-white text-sm font-medium tabular-nums">75.000 FCFA</span>
                            </div>
                        </label>

                        <label class="cursor-pointer block group service-item">
                            <input type="checkbox" data-name="Social Management" data-price="100000" class="peer sr-only service-checkbox">
                            <div class="p-5 rounded-xl border border-white/10 bg-[#0A0A0A] hover:border-white/20 transition-all peer-checked:border-indigo-500/50 peer-checked:bg-indigo-500/[0.02] flex items-center justify-between">
                                <div class="flex items-center gap-5">
                                    <div class="w-5 h-5 rounded border border-white/20 flex items-center justify-center text-transparent peer-checked:bg-indigo-500 peer-checked:text-white peer-checked:border-indigo-500 transition-all shadow-sm">
                                        <i data-lucide="check" class="w-3 h-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white text-sm font-medium">Social Management (Mensuel)</h4>
                                        <p class="text-xs text-neutral-500 mt-0.5">12 Posts, Rédaction, Modération</p>
                                    </div>
                                </div>
                                <span class="text-white text-sm font-medium tabular-nums">100.000 FCFA</span>
                            </div>
                        </label>
                    </div>
                </div>

                <div class="w-full lg:w-[400px]">
                    <div class="sticky top-24">
                        <div class="p-1 rounded-2xl bg-gradient-to-b from-white/10 to-white/5">
                            <div class="p-6 rounded-xl bg-[#050505] relative overflow-hidden">
                                <div class="absolute -top-20 -right-20 w-40 h-40 bg-indigo-500/20 blur-3xl rounded-full pointer-events-none"></div>
                                <h3 class="text-lg font-medium text-white mb-8 tracking-tight relative z-10">Récapitulatif estimatif</h3>
                                <div id="summary-items" class="space-y-4 mb-8 border-b border-white/5 pb-8 relative z-10 min-h-[50px]"></div>

                                <div class="flex justify-between items-end mb-8 relative z-10">
                                    <div class="flex flex-col">
                                        <span class="text-neutral-400 text-xs mb-1">Total estimé</span>
                                        <span class="text-[10px] text-neutral-600">Hors taxes</span>
                                    </div>
                                    <div class="text-right">
                                        <span id="total-price-display" class="text-3xl font-semibold text-white tracking-tighter tabular-nums block">0</span>
                                        <span class="text-xs text-neutral-500 font-medium">FCFA</span>
                                    </div>
                                </div>

                                <a href="#contact" class="w-full py-4 bg-white text-black rounded-lg text-sm font-semibold hover:bg-neutral-200 transition-all flex items-center justify-center gap-2 mb-4 shadow-lg shadow-white/5 relative z-10 group">
                                    <span>Demander ce devis</span>
                                    <i data-lucide="arrow-down" class="w-4 h-4 group-hover:translate-y-1 transition-transform"></i>
                                </a>
                                <div class="flex items-center justify-center gap-2 text-[10px] text-neutral-600 relative z-10">
                                    <i data-lucide="info" class="w-3 h-3"></i>
                                    Devis gratuit et sans engagement
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="py-24 bg-neutral-900 border-t border-white/5 relative overflow-hidden">
        <div class="max-w-3xl mx-auto px-6 relative z-10">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-display font-medium text-white mb-4">Finaliser la demande</h2>
                <p class="text-neutral-400">Remplissez vos informations pour recevoir ce devis officiel par email.</p>
            </div>

            <form id="contact-form" class="glass-card p-8 md:p-12 rounded-2xl space-y-6" data-aos="zoom-in-up">
                
                <input type="hidden" name="project_details" id="hidden_project_details">
                <input type="hidden" name="estimated_budget" id="hidden_budget">

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="space-y-2">
                        <label class="text-sm text-neutral-400">Nom complet</label>
                        <input type="text" name="user_name" required class="w-full bg-[#0a0a0a] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-indigo-500 transition-colors" placeholder="Koffi Jean">
                    </div>
                    <div class="space-y-2">
                        <label class="text-sm text-neutral-400">Email professionnel</label>
                        <input type="email" name="user_email" required class="w-full bg-[#0a0a0a] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-indigo-500 transition-colors" placeholder="contact@entreprise.ci">
                    </div>
                </div>
                <div class="space-y-2">
                    <label class="text-sm text-neutral-400">Numéro de téléphone</label>
                    <input type="tel" name="user_phone" class="w-full bg-[#0a0a0a] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-indigo-500 transition-colors" placeholder="+225 07 00 00 00 00">
                </div>
                <div class="space-y-2">
                    <label class="text-sm text-neutral-400">Message & Détails supplémentaires</label>
                    <textarea name="message" rows="4" class="w-full bg-[#0a0a0a] border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-indigo-500 transition-colors" placeholder="Parlez-nous un peu plus de votre projet..."></textarea>
                </div>

                <button type="submit" id="submit-btn" class="w-full py-4 bg-white text-black font-bold rounded-lg hover:bg-neutral-200 transition-all flex items-center justify-center gap-2">
                    <span>Envoyer la demande</span>
                    <i data-lucide="send" class="w-4 h-4"></i>
                </button>
            </form>
        </div>
    </section>

    <section class="py-24 border-t border-white/5 bg-[#080808]">
        <div class="max-w-3xl mx-auto px-6">
            <h2 class="text-3xl font-medium text-white mb-10 text-center">Questions fréquentes</h2>
            <div class="space-y-4">
                <details class="group bg-white/5 border border-white/5 rounded-lg open:bg-white/[0.07] transition-all">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-white">
                        <span>Combien de temps pour créer mon site ?</span>
                        <span class="transition group-open:rotate-180"><i data-lucide="chevron-down" class="w-5 h-5 text-neutral-500"></i></span>
                    </summary>
                    <div class="text-neutral-400 text-sm px-6 pb-6 leading-relaxed">
                        Pour un <strong>Site Vitrine</strong>, comptez environ 2 semaines. Pour un <strong>E-commerce</strong>, le délai moyen est de 3 à 5 semaines.
                    </div>
                </details>
                <details class="group bg-white/5 border border-white/5 rounded-lg open:bg-white/[0.07] transition-all">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-white">
                        <span>Modalités de paiement ?</span>
                        <span class="transition group-open:rotate-180"><i data-lucide="chevron-down" class="w-5 h-5 text-neutral-500"></i></span>
                    </summary>
                    <div class="text-neutral-400 text-sm px-6 pb-6 leading-relaxed">
                        50% d'acompte au démarrage, 50% à la livraison finale. Facturation conforme aux normes ivoiriennes.
                    </div>
                </details>
                <details class="group bg-white/5 border border-white/5 rounded-lg open:bg-white/[0.07] transition-all">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-white">
                        <span>Hébergement et Nom de domaine ?</span>
                        <span class="transition group-open:rotate-180"><i data-lucide="chevron-down" class="w-5 h-5 text-neutral-500"></i></span>
                    </summary>
                    <div class="text-neutral-400 text-sm px-6 pb-6 leading-relaxed">
                        Nous gérons l'achat de votre domaine (.ci ou .com) et la configuration de l'hébergement sécurisé.
                    </div>
                </details>
            </div>
        </div>
    </section>

    <footer class="bg-black py-12 border-t border-white/10 text-sm">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-neutral-500">&copy; 2025 Kroma Digital Agency. Abidjan, Côte d'Ivoire.</div>
            <div class="flex gap-6">
                <a href="#" class="text-neutral-500 hover:text-white transition-colors">LinkedIn</a>
                <a href="#" class="text-neutral-500 hover:text-white transition-colors">Instagram</a>
                <a href="#" class="text-neutral-500 hover:text-white transition-colors">Twitter / X</a>
            </div>
        </div>
    </footer>

    <script>
        // Init
        lucide.createIcons();
        AOS.init({ once: true, offset: 50, duration: 800 });

        // Calculator
        const checkboxes = document.querySelectorAll('.service-checkbox');
        const totalDisplay = document.getElementById('total-price-display');
        const summaryContainer = document.getElementById('summary-items');
        const hiddenProjectDetails = document.getElementById('hidden_project_details');
        const hiddenBudget = document.getElementById('hidden_budget');

        function formatPrice(price) { return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, "."); }

        function updateCalculator() {
            let total = 0;
            let itemsHTML = '';
            let detailsArray = [];

            checkboxes.forEach(box => {
                if (box.checked) {
                    const price = parseInt(box.getAttribute('data-price'));
                    const name = box.getAttribute('data-name');
                    total += price;
                    detailsArray.push(name);
                    itemsHTML += `<div class="flex justify-between text-sm items-center"><span class="text-neutral-400">${name}</span><span class="text-white font-medium tabular-nums">${formatPrice(price)}</span></div>`;
                }
            });

            summaryContainer.innerHTML = itemsHTML;
            totalDisplay.innerText = formatPrice(total);
            hiddenProjectDetails.value = detailsArray.join(", ");
            hiddenBudget.value = formatPrice(total) + " FCFA";
        }

        checkboxes.forEach(box => box.addEventListener('change', updateCalculator));
        updateCalculator();

        // EmailJS
        (function() { emailjs.init("ALvuhJTgwZfeHfRkT"); })();

        const contactForm = document.getElementById('contact-form');
        const submitBtn = document.getElementById('submit-btn');
        const toast = document.getElementById('toast');

        contactForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i data-lucide="loader" class="animate-spin w-5 h-5"></i> Envoi en cours...';
            submitBtn.disabled = true;
            lucide.createIcons();

            emailjs.sendForm('service_4to3rfj', 'template_2gayo0c', this)
                .then(function() {
                    showToast('Devis envoyé avec succès !', 'success');
                    contactForm.reset();
                }, function(error) {
                    console.error('Erreur:', error);
                    showToast('Erreur technique.', 'error');
                })
                .finally(() => {
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                    lucide.createIcons();
                });
        });

        function showToast(message, type) {
            toast.textContent = message;
            toast.className = type === 'success' ? 'success show' : 'error show';
            setTimeout(() => { toast.className = toast.className.replace('show', ''); }, 3000);
        }
    </script>
</body>
</html>
